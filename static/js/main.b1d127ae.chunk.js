(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(9),r=c.n(a),n=(c(16),c(5)),s=(c(17),c(2)),o=(c(18),c(1)),l=function(){return Object(o.jsx)("div",{className:"HomePage",children:Object(o.jsx)("h1",{className:"title",children:"Home Page"})})},i=c(3),u=c(0),j=c(11),h=c(10),b=c(8),d=c.n(b),m=function(){var e=Object(h.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:if(t=e.sent,c=[],t.ok){e.next=8;break}throw new Error("".concat(t.status," ").concat(t.statusText));case 8:return e.next=10,t.json();case 10:c=(c=e.sent).map((function(e){var t=Object(j.a)({},e);return null===t.fatherName&&(t.fatherName=""),null===t.motherName&&(t.motherName=""),t}));case 12:return e.abrupt("return",c);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=(c(21),["name","sex","born","died","father","mother","slug"]),f=function(e){var t=e.person,c=e.slug,a=Object(n.c)(),r="",s=Object(i.a)(a,1)[0].get("sortBy");if(c&&t.slug===c)switch(t.sex){case"m":r="blue";break;case"f":r="red"}return Object(o.jsx)("tr",{className:"person ".concat(r),children:O.map((function(e){var c="";return s===e&&(c="highlighted"),"father"===e?Object(o.jsx)("td",{className:c,children:t.fatherName.split(" ")[0]},e):"mother"===e?Object(o.jsx)("td",{className:c,children:t.motherName.split(" ")[0]},e):Object(o.jsx)("td",{className:c,children:t[e]},e)}))})},p=(c(22),["Name","Sex","Born","Died","Father","Mother","Slug"]),x=function(){var e=Object(n.c)(),t=Object(i.a)(e,2),c=t[0],a=t[1],r=c.get("sortBy");return Object(o.jsx)("tr",{className:"person",children:p.map((function(e){return Object(o.jsx)("th",{className:"headerField ".concat(r===e.toLowerCase()?"selected-header":""),onClick:function(){!function(e){"asc"===c.get("sortOrder")&&r===e.toLowerCase()?c.set("sortOrder","desc"):c.set("sortOrder","asc"),c.set("sortBy",e.toLowerCase()),a(c)}(e)},children:e},e)}))})},N=function(e,t){return e.filter((function(e){var c=t.toLowerCase(),a=!1;return e.name.toLowerCase().includes(c)&&(a=!0),e.fatherName&&e.fatherName.toLowerCase().includes(c)&&(a=!0),e.motherName&&e.motherName.toLowerCase().includes(c)&&(a=!0),a}))},v=function(e,t,c){return null===t?e:e.sort((function(e,a){switch(t){case"born":case"died":return"asc"===c?e[t]-a[t]:a[t]-e[t];case"name":case"sex":case"slug":return"asc"===c?e[t].localeCompare(a[t]):a[t].localeCompare(e[t]);case"mother":return"asc"===c?e.motherName.localeCompare(a.motherName):a.motherName.localeCompare(e.motherName);case"father":return"asc"===c?e.fatherName.localeCompare(a.fatherName):a.fatherName.localeCompare(e.fatherName);default:return 0}}))};c(23);var g=function(){var e=Object(n.c)(),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(s.i)().slug,l=Object(u.useState)([]),j=Object(i.a)(l,2),h=j[0],b=j[1],d=Object(u.useState)([]),O=Object(i.a)(d,2),p=O[0],g=O[1],w=Object(u.useState)(""),C=Object(i.a)(w,2),y=C[0],k=C[1],L=function(e,t){var c=Object(u.useState)(e),a=Object(i.a)(c,2),r=a[0],n=a[1];return Object(u.useEffect)((function(){var c=setTimeout((function(){return n(e)}),t||500);return function(){clearTimeout(c)}}),[e,t]),r}(y,500),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=null,r=c.get("sortOrder");null===r&&(r="asc"),a=t||c.get("query");var n=c.get("sortBy");g(v(a?N(e,a):e,n,r))};Object(u.useEffect)((function(){m().then((function(e){e.length>0&&(b(e),P(e))})).catch((function(e){console.warn("".concat(e.message))}))}),[c]);return Object(u.useEffect)((function(){var e;e=y,c.set("query",e.toLowerCase()),a(c),P(h,e)}),[L]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{className:"title",children:"People Page"}),Object(o.jsx)("input",{className:"input input-field","data-cy":"filterInput",placeholder:"Search...",onChange:function(e){k(e.target.value)},value:y}),Object(o.jsx)("button",{type:"button",className:"button button-position",onClick:function(){!function(){var e=c.get("sortOrder");null===e||"asc"===e?(c.set("sortOrder","desc"),a(c)):(c.set("sortOrder","asc"),a(c))}()},children:"Reverse sorting order"}),Object(o.jsxs)("table",{className:"table is-hoverable table-position",children:[Object(o.jsx)("thead",{children:Object(o.jsx)(x,{})}),Object(o.jsx)("tbody",{children:p.length>0&&p.map((function(e){return Object(o.jsx)(f,{person:e,slug:r},e.name)}))}),Object(o.jsx)("tfoot",{children:Object(o.jsx)(x,{})})]})]})},w=(c(24),function(){return Object(o.jsx)("div",{className:"NotFoundPage",children:Object(o.jsx)("h1",{className:"title title-color",children:"Page not found"})})}),C=(c(25),function(){return Object(o.jsxs)("div",{className:"header",children:[Object(o.jsxs)("div",{className:"header__links navbar is-success",children:[Object(o.jsx)(n.b,{to:"/",children:Object(o.jsx)("h1",{className:"title is-4 is-spaced is-hoverable",children:"Home"})}),Object(o.jsx)(n.b,{to:"/people",children:Object(o.jsx)("h1",{className:"title is-4 is-spaced is-hoverable",children:"People"})})]}),Object(o.jsx)(s.b,{})]})}),y=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(s.e,{children:Object(o.jsxs)(s.c,{path:"/",element:Object(o.jsx)(C,{}),children:[Object(o.jsx)(s.c,{index:!0,element:Object(o.jsx)(l,{})}),Object(o.jsxs)(s.c,{path:"/people",children:[Object(o.jsx)(s.c,{index:!0,element:Object(o.jsx)(g,{})}),Object(o.jsx)(s.c,{path:":slug",element:Object(o.jsx)(g,{})})]}),Object(o.jsx)(s.c,{path:"/home",element:Object(o.jsx)(s.a,{to:"/",replace:!0})}),Object(o.jsx)(s.c,{path:"*",element:Object(o.jsx)(w,{})})]})})})};r.a.render(Object(o.jsx)(n.a,{children:Object(o.jsx)(y,{})}),document.getElementById("root"))}],[[26,1,2]]]);
//# sourceMappingURL=main.b1d127ae.chunk.js.map